<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
</head>
<body>
    <div ng-repeat="factOption in factOptions" ng-click="toggleShowForm($index)">
        <span>{{factOption}}</span>
        <form name="{{factOption}}Form" id="{{factOption}}Form'" ng-show="optionClicked[$index]" ng-submit="submitFact(factOption, 'Filters')" ng-click="stopPropagation($event)">
            <label>name</label>
            <input type="text" ng-model="$parent.name" />
            <label>value</label>
            <input type="text" ng-model="$parent.value" />
            <input type="submit" value="+" />
        </form>
    </div>

    <div id="fab" class="button floating-action-button lift-shadow-soft" ng-class="{'floating-action-button-focus': actionButtonClicked}" ng-click="showActionMenu()" ng-blur="closeActionMenu()" tabindex="1">
        <span ng-if="!actionButtonClicked">+</span>
        <form class="filter-inputs" ng-if="actionButtonClicked" name="form" id="form'" ng-submit="submitFact('Filters')" ng-click="stopPropagation($event)">
            <div class="filter-input">
                <label>Fact type: </label>
                <div>
                    <input type="text" placeholder="Search" ng-focus="showFactOptions()" ng-blur="closeActionMenu()" ng-model="$parent.type" />
                    <div class="suggestion-box">
                        <div class="suggestion" ng-if="factOptionsShown" ng-repeat="factOption in $parent.factOptions | filter:$parent.type" ng-click="selectFromSuggestedList(factOption)">
                            {{factOption}}
                        </div>
                    </div>
                </div>
            </div>
            <div ng-if="$parent.type">
                <div ng-if="$parent.type === 'SimpleFact'" class="filter-input">
                    <label>Name: </label>
                    <div>
                        <input type="text" ng-focus="showNameOptions()" ng-blur="closeActionMenu()" ng-model="$parent.name" />
                        <div class="suggestion-box">
                            <div class="suggestion" ng-if="nameOptionsShown" ng-repeat="nameOption in $parent.nameOptions | filter:$parent.name" ng-click="selectFromSuggestedList(nameOption)">
                                {{nameOption}}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="filter-input">
                    <label>Value: </label>
                    <div>
                        <input type="text" ng-focus="showValueOptions()" ng-blur="closeActionMenu()" ng-model="$parent.value" />
                        <div class="suggestion-box">
                            <div class="suggestion" ng-if="valueOptionsShown" ng-repeat="valueOption in $parent.valueOptions | filter:$parent.value" ng-click="selectFromSuggestedList(valueOption)">
                                {{valueOption}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <input class="add-button" type="submit" value="+" />
        </form>
    </div>
</body>
</html>
